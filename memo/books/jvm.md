# JVM

### JIT 컴파일

> Just In Time 컴파일

핫스팟은 인터프리티드 모드로 실행하는 동안 어플리케이션을 모니터링하면서 가장 자주 실행되는 코드를 발견해 JIT 컴파일을 수행합니다.

이때 임계점을 넘어가면 프로파일러가 특정 코드를 컴파일/최적화 하게됩니다.

컴파일러가 해석 단계에서 수집한 추적 정보를 근거로 최적화를 결정한다는 장점이 있습니다.



### JVM 메모리 관리

C, C++, C#과 같은 언어들은 개발자가 직접 메모리를 할당/해제 작업을 수행합니다.\
직접 메모리를 관리하게되면 더욱 성능을 끌어올릴수 있지만 메모리를 정확하게 계산해야하는 책임이 따라오게 됩니다.

자바는 GC(Garbage Collection)이라는 프로세스를 이용해 힙 메모리를 자동으로 관리하는 방식으로 해결합니다.

하지만 GC가 실행되면 그동안 어플리케이션이 모두 중단되고 하던 일은 멈춰야 합니다. 이 중단 시간은 아주 짧지만, 어플리케이션 부하가 늘수록 이 시간도 무시할 수 없습니다.



### JVM 모니터링

* JMX

JVM과 그 위에서 동작하는 어플리케이션을 제어하고 모니터링하는 강력한 범용툴

메서드를 호출하고 매개변수를 바꿀 수 있습니다.

* 자바 에이전트

java.lang.instrument 인터페이스로 메서드 바이트코드를 조작합니다.

* JVM 툴 인터페이스

자바 에이전트로 가져올수 없는 정보를 가져오는데 사용된다. 저수준 코드이기 때문에 악영향을 주기 쉽습니다.

* 서비서빌리티 에이전트

자바 객체, 핫스팟 자료 구조 모두 표출 가능한 API와 툴을 모아둔것 입니다.



